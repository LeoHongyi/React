{"version":3,"sources":["lib/jreact-dom.js","lib/jreact.js","index.js"],"names":["createDomFromVnode","vnode","console","log","document","createTextNode","Array","isArray","fragment","createDocumentFragment","forEach","vnodeChild","dom","appendChild","tag","component","createComponent","attrs","renderComponent","$root","createElement","setAttribute","children","childVnode","_render","container","constructor","prototype","Jreact","Component","render","diffNode","_component","diff","node","key","value","startsWith","toLocaleLowerCase","Object","assign","style","patchedDom","parentNode","removeDom","nodeType","textContent","diffComponent","nodeName","toLowerCase","childNodes","child","replaceDom","diffAttributes","diffChildren","setComponentProps","props","vChildren","domChildren","vChild","patchChildDom","domsHasKey","length","Math","max","i","setOrderInContainer","old","attributes","attr","name","undefined","removeChild","newDom","oldDom","replaceChild","order","insertAdjacentElement","state","App","courses","styleObj","color","fontWeight","modifyName","bind","setStyle","newName","window","prompt","setState","JreactDOM","querySelector"],"mappings":"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","file":"chapter-3.1fd996f3.js","sourceRoot":"..","sourcesContent":["import Jreact from './jreact'\n\n\n/**\n * \n * @param {VNode} vnode \n * @param {HTMLElement} container \n */\n\nfunction createDomFromVnode(vnode) {\n  console.log(vnode)\n  if(!vnode) return\n  if(typeof vnode === 'string') {\n    return document.createTextNode(vnode)\n  }\n\n\n  if(Array.isArray(vnode)) {\n    let fragment = document.createDocumentFragment()\n    vnode.forEach(vnodeChild=> {\n      let dom = createDomFromVnode(vnodeChild)\n      fragment.appendChild(dom)\n    })\n    return fragment\n  }\n\n  if(typeof vnode === 'object') {\n    if(typeof vnode.tag === 'function') {\n      //console.log(vnode)\n      let component = createComponent(vnode.tag, vnode.attrs)\n      renderComponent(component)\n      return component.$root\n    } else {\n      let dom = document.createElement(vnode.tag)\n      setAttribute(dom, vnode.attrs)\n      vnode.children.forEach(childVnode => _render(childVnode, dom))\n      return dom\n    }\n  }\n}\n\nfunction _render(vnode, container) {\n  if(!vnode) return\n  let dom = createDomFromVnode(vnode)\n  return container.appendChild(dom)\n}\n\nfunction createComponent(constructor, attrs) {\n    //创建组件,设置组件属性\n    let component \n    \n    //如果是用class创建的\n    if(constructor.prototype instanceof Jreact.Component) {\n      component = new constructor(attrs)\n    } else {\n      component = new Jreact.Component(attrs)\n      component.constructor = constructor\n      component.render = function() {\n        return this.constructor(attrs)\n      }     \n    } \n    \n    return component\n}\n\n\nfunction renderComponent(component) {\n  let vnode = component.render()\n  let dom = diffNode(component.$root, vnode)\n  component.$root = dom\n  component.$root._component = component\n}\n\n\n/**\n * 本章节更新的代码\n * @param {VNode} vnode \n * @param {HTMLElement} container \n */\nfunction render(vnode, container) {\n  //--\n  //container.innerHTML = ''\n  //-- \n  //_render(vnode, container) \n\n  //++\n  return diff( null, vnode, container )\n}\n\n\nfunction setAttribute(node, key, value) {\n  if(key.startsWith('on')) {\n    node[key.toLocaleLowerCase()] = value\n  } else if(key === 'style') {\n    Object.assign(node.style, value)\n  } else {\n    node[key] = value\n  }\n}\n\n/**\n * 本章节新增代码\n * @param {HTMLElement} dom 要对比更新的DOM\n * @param {VNode} vnode  新的vnode\n * @param {HTMLElement} container  DOM的容器\n * @returns {HTMLElement} 更新后的DOM\n */\n\nfunction diff(dom, vnode, container) {\n  const patchedDom = diffNode(dom, vnode)\n  if(container && patchedDom && patchedDom.parentNode !== container) {\n      container.appendChild(patchedDom)\n  }\n  return patchedDom\n}\n\n\nfunction diffNode(dom, vnode) {\n  if(!vnode) {\n    return removeDom(dom)\n  }\n  let patchedDom = dom\n\n  //如果是文本类型的虚拟DOM，要么替换内容，要么替换元素\n  if(typeof vnode === 'string' || typeof vnode === 'number') {\n    if(patchedDom && patchedDom.nodeType === 3) {\n        if(patchedDom.textContent !== vnode) {\n          patchedDom.textContent = vnode\n        }\n    } else {\n      patchedDom = document.createTextNode(vnode)\n    }\n    return patchedDom\n  }\n\n\n\n  //如果是组件，就diff组件\n  if (typeof vnode === 'object' && typeof vnode.tag === 'function') {\n    patchedDom =  diffComponent( dom, vnode )\n    return patchedDom\n  }\n\n  //否则就是普通的vnode\n  //看dom是不是存在，如果不存就根据vnode创建\n  if(!dom) {\n    patchedDom = document.createElement(vnode.tag)\n  }\n\n  //如果存在但标签变了，就修正标签（创建新标签的dom，把旧标签dom的孩子放到新标签dom里，旧标签替换成新标签）\n  if(dom && dom.nodeName.toLowerCase() !== vnode.tag.toLowerCase()) {\n    patchedDom = document.createElement(vnode.tag)\n    dom.childNodes.forEach((child) => patchedDom.appendChild(child))\n    replaceDom(patchedDom, dom)\n  }\n  diffAttributes(patchedDom, vnode)\n\n  diffChildren(patchedDom, vnode.children)\n\n  return patchedDom\n  \n}\n\nfunction diffComponent(dom, vnode) {\n  let component = dom?dom._component:null\n\n  if (component && component.constructor === vnode.tag) {\n      setComponentProps(component, vnode.attrs)\n  } else {\n    component = createComponent(vnode.tag, vnode.attrs)\n    setComponentProps(component, vnode.attrs )\n  }\n\n  return component.$root\n}\n\nfunction setComponentProps(component, props) {\n  component.props = props\n  renderComponent(component)\n}\n\n\nfunction diffChildren(patchedDom, vChildren) {\n\n  let domChildren = patchedDom.childNodes\n  let domsHasKey = {}\n  for(let dom of domChildren) {\n    if(dom.key) {\n      domsHasKey[dom.key] = dom\n    }\n  }\n\n  let vChild\n  let patchChildDom\n  let length = Math.max(domChildren.length, vChildren.length)\n\n  for(let i = 0; i < length; i++) {\n    vChild = vChildren[i]\n\n    if(vChild.key && domsHasKey[vChild.key]) {\n      patchChildDom = diffNode(domsHasKey[vChild.key], vChild)\n    } else {\n      patchChildDom = diffNode(domChildren[i], vChild)\n    }\n\n    if(patchChildDom.parentNode !== patchedDom) {\n      patchedDom.appendChild(patchChildDom)\n    }\n    setOrderInContainer(patchedDom, patchChildDom, i)\n  }\n}\n\nfunction diffAttributes(dom, vnode) {\n  const old = {}\n  const attrs = vnode.attrs\n\n  for (var i = 0; i < dom.attributes.length; i++ ) {\n      const attr = dom.attributes[i]\n      old[attr.name] = attr.value\n  }\n  for (var key in old ) {\n      if ( !( key in attrs ) ) {\n        setAttribute(dom, key, undefined)\n      }\n  }\n  for (var key in attrs ) {\n    console.log(key)\n    if(old[ key ] !== attrs[ key ] ) {\n        setAttribute( dom, key, attrs[key] )\n    }\n  }\n}\n\nfunction removeDom(dom) {\n  if(dom && dom.parentNode) {\n    dom.parentNode.removeChild(dom)\n  }\n}\n\nfunction replaceDom(newDom, oldDom) {\n  if(dom && dom.parentNode) {\n    dom.parentNode.replaceChild(newDom, oldDom)\n  }\n}\n\nfunction setOrderInContainer(container, dom, order) {\n  if(container.childNodes[order] !== dom) {\n    container.childNodes[order].insertAdjacentElement('beforebegin', dom)\n  }\n}\n\n\nexport default{\n  render,\n  setAttribute,\n  renderComponent\n}","import JreactDom from './jreact-dom'\n\n/**\n * \n * @param {String} tag \n * @param {Object} attrs \n * @param  {String|Object} children \n */\nfunction createElement(tag, attrs, ...children) {\n  return {\n    tag, \n    attrs, \n    children,\n    key: attrs?(attrs.key?attrs.key:null):null\n  }\n}\n\nclass Component {\n  constructor(props = {}) {\n    this.state = {}\n    this.props = props\n  }\n\n  setState(state) {\n    Object.assign(this.state, state)\n    JreactDom.renderComponent(this)\n  }\n}\n\n\nexport default { createElement, Component }\n","import Jreact from './lib/jreact.js'\nimport JreactDOM from './lib/jreact-dom.js'\n\nclass App extends Jreact.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      name: '小讲堂',\n      courses: ['数学', '语文', '英语'],\n      styleObj: {\n        color: 'red',\n        fontWeight: 'bold'\n      }\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <h1>欢迎到<span className=\"name\" style={ this.state.styleObj }>{ this.state.name }</span>来学习</h1>\n        <p>aaa</p>\n        <p>bbb</p>\n        <div className=\"action\">\n          <button onClick = { this.modifyName.bind(this) }>修改名字</button>\n          <button onClick = { this.setStyle.bind(this) }>样式</button>\n        </div>\n      </div>\n    )\n  }\n\n  modifyName() {\n    let newName = window.prompt('输入标题','小讲堂')\n    this.setState({name: newName})\n  }\n\n  setStyle() {\n    this.setState({\n      styleObj: {\n        color: 'blue'\n      }\n    })\n  }\n}\n\nwindow.JreactDOM = JreactDOM\n\nJreactDOM.render(<App/>, document.querySelector('#app'))"]}